/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ 4257:
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

/* harmony import */ var _Users_jon_Dev_Cacophony_cptv_player_vue_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(4254);
/* harmony import */ var _Users_jon_Dev_Cacophony_cptv_player_vue_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(4058);
/* harmony import */ var _Users_jon_Dev_Cacophony_cptv_player_vue_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(9293);
/* harmony import */ var _Users_jon_Dev_Cacophony_cptv_player_vue_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(102);
/* harmony import */ var _Users_jon_Dev_Cacophony_cptv_player_vue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(4208);
/* harmony import */ var regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(5666);
/* harmony import */ var regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(1539);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(8674);
/* harmony import */ var core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(7042);
/* harmony import */ var core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(2222);
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(9653);
/* harmony import */ var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(6992);
/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var core_js_modules_es_typed_array_uint16_array_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(8255);
/* harmony import */ var core_js_modules_es_typed_array_uint16_array_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_uint16_array_js__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var core_js_modules_es_typed_array_copy_within_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(2990);
/* harmony import */ var core_js_modules_es_typed_array_copy_within_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_copy_within_js__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var core_js_modules_es_typed_array_every_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(8927);
/* harmony import */ var core_js_modules_es_typed_array_every_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_every_js__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var core_js_modules_es_typed_array_fill_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(3105);
/* harmony import */ var core_js_modules_es_typed_array_fill_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_fill_js__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var core_js_modules_es_typed_array_filter_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(5035);
/* harmony import */ var core_js_modules_es_typed_array_filter_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_filter_js__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var core_js_modules_es_typed_array_find_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(4345);
/* harmony import */ var core_js_modules_es_typed_array_find_js__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_find_js__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var core_js_modules_es_typed_array_find_index_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(7174);
/* harmony import */ var core_js_modules_es_typed_array_find_index_js__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_find_index_js__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var core_js_modules_es_typed_array_for_each_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(2846);
/* harmony import */ var core_js_modules_es_typed_array_for_each_js__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_for_each_js__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var core_js_modules_es_typed_array_includes_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(4731);
/* harmony import */ var core_js_modules_es_typed_array_includes_js__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_includes_js__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var core_js_modules_es_typed_array_index_of_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(7209);
/* harmony import */ var core_js_modules_es_typed_array_index_of_js__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_index_of_js__WEBPACK_IMPORTED_MODULE_18__);
/* harmony import */ var core_js_modules_es_typed_array_iterator_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(6319);
/* harmony import */ var core_js_modules_es_typed_array_iterator_js__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_iterator_js__WEBPACK_IMPORTED_MODULE_19__);
/* harmony import */ var core_js_modules_es_typed_array_join_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(8867);
/* harmony import */ var core_js_modules_es_typed_array_join_js__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_join_js__WEBPACK_IMPORTED_MODULE_20__);
/* harmony import */ var core_js_modules_es_typed_array_last_index_of_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(7789);
/* harmony import */ var core_js_modules_es_typed_array_last_index_of_js__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_last_index_of_js__WEBPACK_IMPORTED_MODULE_21__);
/* harmony import */ var core_js_modules_es_typed_array_map_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(3739);
/* harmony import */ var core_js_modules_es_typed_array_map_js__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_map_js__WEBPACK_IMPORTED_MODULE_22__);
/* harmony import */ var core_js_modules_es_typed_array_reduce_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(9368);
/* harmony import */ var core_js_modules_es_typed_array_reduce_js__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_reduce_js__WEBPACK_IMPORTED_MODULE_23__);
/* harmony import */ var core_js_modules_es_typed_array_reduce_right_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(4483);
/* harmony import */ var core_js_modules_es_typed_array_reduce_right_js__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_reduce_right_js__WEBPACK_IMPORTED_MODULE_24__);
/* harmony import */ var core_js_modules_es_typed_array_reverse_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(2056);
/* harmony import */ var core_js_modules_es_typed_array_reverse_js__WEBPACK_IMPORTED_MODULE_25___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_reverse_js__WEBPACK_IMPORTED_MODULE_25__);
/* harmony import */ var core_js_modules_es_typed_array_set_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(3462);
/* harmony import */ var core_js_modules_es_typed_array_set_js__WEBPACK_IMPORTED_MODULE_26___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_set_js__WEBPACK_IMPORTED_MODULE_26__);
/* harmony import */ var core_js_modules_es_typed_array_slice_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(678);
/* harmony import */ var core_js_modules_es_typed_array_slice_js__WEBPACK_IMPORTED_MODULE_27___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_slice_js__WEBPACK_IMPORTED_MODULE_27__);
/* harmony import */ var core_js_modules_es_typed_array_some_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(7462);
/* harmony import */ var core_js_modules_es_typed_array_some_js__WEBPACK_IMPORTED_MODULE_28___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_some_js__WEBPACK_IMPORTED_MODULE_28__);
/* harmony import */ var core_js_modules_es_typed_array_sort_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(3824);
/* harmony import */ var core_js_modules_es_typed_array_sort_js__WEBPACK_IMPORTED_MODULE_29___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_sort_js__WEBPACK_IMPORTED_MODULE_29__);
/* harmony import */ var core_js_modules_es_typed_array_subarray_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(5021);
/* harmony import */ var core_js_modules_es_typed_array_subarray_js__WEBPACK_IMPORTED_MODULE_30___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_subarray_js__WEBPACK_IMPORTED_MODULE_30__);
/* harmony import */ var core_js_modules_es_typed_array_to_locale_string_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(2974);
/* harmony import */ var core_js_modules_es_typed_array_to_locale_string_js__WEBPACK_IMPORTED_MODULE_31___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_to_locale_string_js__WEBPACK_IMPORTED_MODULE_31__);
/* harmony import */ var core_js_modules_es_typed_array_to_string_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(5016);
/* harmony import */ var core_js_modules_es_typed_array_to_string_js__WEBPACK_IMPORTED_MODULE_32___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_to_string_js__WEBPACK_IMPORTED_MODULE_32__);
/* harmony import */ var core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(8783);
/* harmony import */ var core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_33___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_33__);
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(3948);
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_34___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_34__);






































var ThisPlayerContext;

function initWasm() {
  return _initWasm.apply(this, arguments);
}

function _initWasm() {
  _initWasm = (0,_Users_jon_Dev_Cacophony_cptv_player_vue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)( /*#__PURE__*/regeneratorRuntime.mark(function _callee11() {
    return regeneratorRuntime.wrap(function _callee11$(_context11) {
      while (1) {
        switch (_context11.prev = _context11.next) {
          case 0:
            if (ThisPlayerContext) {
              _context11.next = 5;
              break;
            }

            _context11.next = 3;
            return __webpack_require__.e(/* import() */ 355).then(__webpack_require__.bind(__webpack_require__, 6355));

          case 3:
            ThisPlayerContext = _context11.sent.CptvPlayerContext;
            console.log("Player context", ThisPlayerContext);

          case 5:
          case "end":
            return _context11.stop();
        }
      }
    }, _callee11);
  }));
  return _initWasm.apply(this, arguments);
}

var Unlocker = /*#__PURE__*/function () {
  function Unlocker() {
    (0,_Users_jon_Dev_Cacophony_cptv_player_vue_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_35__/* ["default"] */ .Z)(this, Unlocker);

    (0,_Users_jon_Dev_Cacophony_cptv_player_vue_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_36__/* ["default"] */ .Z)(this, "fn", null);

    this.fn = null;
  }

  (0,_Users_jon_Dev_Cacophony_cptv_player_vue_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_37__/* ["default"] */ .Z)(Unlocker, [{
    key: "unlock",
    value: function unlock() {
      this.fn && this.fn();
    }
  }]);

  return Unlocker;
}();

var FakeReader = function FakeReader(bytes) {
  var maxChunkSize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
  var state = {
    offsets: [],
    offset: 0
  };
  state.bytes = bytes;
  var length = bytes.byteLength; // How many reader chunks to split the file into

  var numParts = 5;

  if (maxChunkSize !== 0) {
    numParts = Math.ceil(length / maxChunkSize);
  }

  var percentages = length / numParts;

  for (var i = 0; i < numParts; i++) {
    state.offsets.push(Math.ceil(percentages * i));
  }

  state.offsets.push(length);
  return {
    read: function read() {
      return new Promise(function (resolve) {
        state.offset += 1;
        var value = state.bytes.slice(state.offsets[state.offset - 1], state.offsets[state.offset]);
        resolve({
          value: value,
          done: state.offset === state.offsets.length - 1
        });
      });
    },
    cancel: function cancel() {
      // Reset state
      delete state.bytes;
      state = {
        offsets: [],
        offset: 0
      };
      return new Promise(function (resolve) {
        resolve();
      });
    },
    releaseLock: function releaseLock() {
      return;
    },
    closed: new Promise(function (resolve) {
      resolve(undefined);
    })
  };
};

var CptvDecoderInterface = /*#__PURE__*/function () {
  function CptvDecoderInterface() {
    (0,_Users_jon_Dev_Cacophony_cptv_player_vue_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_35__/* ["default"] */ .Z)(this, CptvDecoderInterface);

    (0,_Users_jon_Dev_Cacophony_cptv_player_vue_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_36__/* ["default"] */ .Z)(this, "framesRead", 0);

    (0,_Users_jon_Dev_Cacophony_cptv_player_vue_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_36__/* ["default"] */ .Z)(this, "locked", false);

    (0,_Users_jon_Dev_Cacophony_cptv_player_vue_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_36__/* ["default"] */ .Z)(this, "consumed", false);

    (0,_Users_jon_Dev_Cacophony_cptv_player_vue_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_36__/* ["default"] */ .Z)(this, "prevFrameHeader", null);

    (0,_Users_jon_Dev_Cacophony_cptv_player_vue_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_36__/* ["default"] */ .Z)(this, "response", null);

    (0,_Users_jon_Dev_Cacophony_cptv_player_vue_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_36__/* ["default"] */ .Z)(this, "reader", null);

    (0,_Users_jon_Dev_Cacophony_cptv_player_vue_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_36__/* ["default"] */ .Z)(this, "playerContext", null);

    (0,_Users_jon_Dev_Cacophony_cptv_player_vue_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_36__/* ["default"] */ .Z)(this, "expectedSize", 0);

    (0,_Users_jon_Dev_Cacophony_cptv_player_vue_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_36__/* ["default"] */ .Z)(this, "inited", false);

    (0,_Users_jon_Dev_Cacophony_cptv_player_vue_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_36__/* ["default"] */ .Z)(this, "currentContentType", "application/x-cptv");

    (0,_Users_jon_Dev_Cacophony_cptv_player_vue_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_36__/* ["default"] */ .Z)(this, "streamError", null);
  }

  (0,_Users_jon_Dev_Cacophony_cptv_player_vue_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_37__/* ["default"] */ .Z)(CptvDecoderInterface, [{
    key: "free",
    value: function free() {
      this.framesRead = 0;
      this.locked = false;
      this.consumed = false;
      this.inited = false;
      this.prevFrameHeader = null;
      this.playerContext && this.playerContext.free();
      this.reader && this.reader.cancel();
      this.streamError = null;
      this.reader = null;
      this.playerContext = null;
    }
  }, {
    key: "hasValidContext",
    value: function hasValidContext() {
      return !!this.playerContext;
    }
  }, {
    key: "initWithRecordingIdAndSize",
    value: function () {
      var _initWithRecordingIdAndSize = (0,_Users_jon_Dev_Cacophony_cptv_player_vue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)( /*#__PURE__*/regeneratorRuntime.mark(function _callee(id, apiToken, apiRoot, size) {
        var unlocker, request, r;
        return regeneratorRuntime.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                this.free();
                unlocker = new Unlocker();
                _context.next = 4;
                return this.lockIsUncontended(unlocker);

              case 4:
                this.locked = true;
                _context.prev = 5;
                this.consumed = false;
                request = {
                  mode: "cors",
                  cache: "no-cache",
                  headers: {
                    Authorization: apiToken
                  },
                  method: "get"
                };
                _context.next = 10;
                return fetch("".concat(apiRoot, "/api/v1/recordings/raw/").concat(id), request);

              case 10:
                this.response = _context.sent;

                if (!(this.response.status === 200)) {
                  _context.next = 36;
                  break;
                }

                if (!this.response.body) {
                  _context.next = 33;
                  break;
                }

                this.currentContentType = this.response.headers.get("Content-Type") || "application/x-cptv";

                if (!size) {
                  size = Number(this.response.headers.get("Content-Length")) || 0;
                }

                this.expectedSize = size;

                if (!(this.currentContentType === "application/x-cptv")) {
                  _context.next = 25;
                  break;
                }

                this.reader = this.response.body.getReader();
                _context.next = 20;
                return initWasm();

              case 20:
                _context.next = 22;
                return ThisPlayerContext.newWithStream(this.reader);

              case 22:
                this.playerContext = _context.sent;
                _context.next = 29;
                break;

              case 25:
                if (!(this.currentContentType === "image/webp")) {
                  _context.next = 29;
                  break;
                }

                _context.next = 28;
                return this.response.blob();

              case 28:
                return _context.abrupt("return", _context.sent);

              case 29:
                unlocker.unlock();
                this.inited = true;
                this.locked = false;
                return _context.abrupt("return", true);

              case 33:
                return _context.abrupt("return", "No body on response");

              case 36:
                unlocker.unlock();
                this.locked = false;
                _context.prev = 38;
                _context.next = 41;
                return this.response.json();

              case 41:
                r = _context.sent;
                return _context.abrupt("return", r.messages && r.messages.pop() || r.message || "Unknown error");

              case 45:
                _context.prev = 45;
                _context.t0 = _context["catch"](38);
                _context.next = 49;
                return this.response.text();

              case 49:
                return _context.abrupt("return", _context.sent);

              case 50:
                _context.next = 57;
                break;

              case 52:
                _context.prev = 52;
                _context.t1 = _context["catch"](5);
                unlocker.unlock();
                this.locked = false;
                return _context.abrupt("return", "Failed to load CPTV url ".concat(id, ", ").concat(_context.t1));

              case 57:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this, [[5, 52], [38, 45]]);
      }));

      function initWithRecordingIdAndSize(_x, _x2, _x3, _x4) {
        return _initWithRecordingIdAndSize.apply(this, arguments);
      }

      return initWithRecordingIdAndSize;
    }()
  }, {
    key: "initWithCptvUrlAndSize",
    value: function () {
      var _initWithCptvUrlAndSize = (0,_Users_jon_Dev_Cacophony_cptv_player_vue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(url, size) {
        var unlocker, r;
        return regeneratorRuntime.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                this.free();
                unlocker = new Unlocker();
                _context2.next = 4;
                return this.lockIsUncontended(unlocker);

              case 4:
                this.locked = true;
                _context2.prev = 5;
                // Use this expired JWT token to test that failure case (usually when a page has been open too long)
                // const oldJWT = "https://api.cacophony.org.nz/api/v1/signedUrl?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfdHlwZSI6ImZpbGVEb3dubG9hZCIsImtleSI6InJhdy8yMDIxLzA0LzE1LzQ3MGU2YjY1LWZkOTgtNDk4Ny1iNWQ3LWQyN2MwOWIxODFhYSIsImZpbGVuYW1lIjoiMjAyMTA0MTUtMTE0MjE2LmNwdHYiLCJtaW1lVHlwZSI6ImFwcGxpY2F0aW9uL3gtY3B0diIsImlhdCI6MTYxODQ2MjUwNiwiZXhwIjoxNjE4NDYzMTA2fQ.p3RAOX7Ns52JqHWTMM5Se-Fn-UCyRtX2tveaGrRmiwo";
                this.consumed = false;
                _context2.next = 9;
                return fetch(url);

              case 9:
                this.response = _context2.sent;

                if (!(this.response.status === 200)) {
                  _context2.next = 27;
                  break;
                }

                if (!this.response.body) {
                  _context2.next = 24;
                  break;
                }

                this.reader = this.response.body.getReader();

                if (!size) {
                  size = Number(this.response.headers.get("Content-Length")) || 0;
                }

                this.expectedSize = size;
                _context2.next = 17;
                return initWasm();

              case 17:
                _context2.next = 19;
                return ThisPlayerContext.newWithStream(this.reader);

              case 19:
                this.playerContext = _context2.sent;
                unlocker.unlock();
                this.inited = true;
                this.locked = false;
                return _context2.abrupt("return", true);

              case 24:
                return _context2.abrupt("return", "No body on response");

              case 27:
                unlocker.unlock();
                this.locked = false;
                _context2.prev = 29;
                _context2.next = 32;
                return this.response.json();

              case 32:
                r = _context2.sent;
                return _context2.abrupt("return", r.messages && r.messages.pop() || r.message || "Unknown error");

              case 36:
                _context2.prev = 36;
                _context2.t0 = _context2["catch"](29);
                _context2.next = 40;
                return this.response.text();

              case 40:
                return _context2.abrupt("return", _context2.sent);

              case 41:
                _context2.next = 48;
                break;

              case 43:
                _context2.prev = 43;
                _context2.t1 = _context2["catch"](5);
                unlocker.unlock();
                this.locked = false;
                return _context2.abrupt("return", "Failed to load CPTV url ".concat(url, ", ").concat(_context2.t1));

              case 48:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this, [[5, 43], [29, 36]]);
      }));

      function initWithCptvUrlAndSize(_x5, _x6) {
        return _initWithCptvUrlAndSize.apply(this, arguments);
      }

      return initWithCptvUrlAndSize;
    }()
  }, {
    key: "initWithFileBytes",
    value: function () {
      var _initWithFileBytes = (0,_Users_jon_Dev_Cacophony_cptv_player_vue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(fileBytes) {
        var unlocker, result;
        return regeneratorRuntime.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                this.free();
                this.framesRead = 0;
                this.streamError = null;
                unlocker = new Unlocker();
                _context3.next = 6;
                return this.lockIsUncontended(unlocker);

              case 6:
                this.locked = true;
                this.reader = FakeReader(fileBytes, 100000);
                this.expectedSize = fileBytes.length;
                _context3.prev = 9;
                _context3.next = 12;
                return initWasm();

              case 12:
                _context3.next = 14;
                return ThisPlayerContext.newWithStream(this.reader);

              case 14:
                this.playerContext = _context3.sent;
                this.inited = true;
                result = true;
                _context3.next = 23;
                break;

              case 19:
                _context3.prev = 19;
                _context3.t0 = _context3["catch"](9);
                this.streamError = _context3.t0;
                result = "Failed to load CPTV file, ".concat(_context3.t0);

              case 23:
                unlocker.unlock();
                this.locked = false;
                return _context3.abrupt("return", result);

              case 26:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3, this, [[9, 19]]);
      }));

      function initWithFileBytes(_x7) {
        return _initWithFileBytes.apply(this, arguments);
      }

      return initWithFileBytes;
    }()
  }, {
    key: "fetchNextFrame",
    value: function () {
      var _fetchNextFrame = (0,_Users_jon_Dev_Cacophony_cptv_player_vue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {
        var unlocker, frameData, frameHeader, sameFrameAsPrev;
        return regeneratorRuntime.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                if (this.inited) {
                  _context4.next = 2;
                  break;
                }

                return _context4.abrupt("return", null);

              case 2:
                if (this.reader) {
                  _context4.next = 5;
                  break;
                }

                console.warn("You need to initialise the player with a CPTV file stream");
                return _context4.abrupt("return", null);

              case 5:
                if (!this.consumed) {
                  _context4.next = 8;
                  break;
                }

                console.warn("Stream has already been consumed and discarded");
                return _context4.abrupt("return", null);

              case 8:
                unlocker = new Unlocker();
                _context4.next = 11;
                return this.lockIsUncontended(unlocker);

              case 11:
                this.locked = true;

                if (!this.hasValidContext()) {
                  _context4.next = 23;
                  break;
                }

                _context4.prev = 13;
                _context4.next = 16;
                return this.playerContext.fetchNextFrame();

              case 16:
                _context4.next = 21;
                break;

              case 18:
                _context4.prev = 18;
                _context4.t0 = _context4["catch"](13);
                this.streamError = _context4.t0;

              case 21:
                _context4.next = 24;
                break;

              case 23:
                console.warn("Fetch next failed");

              case 24:
                unlocker.unlock();
                this.locked = false;

                if (!this.hasStreamError()) {
                  _context4.next = 28;
                  break;
                }

                return _context4.abrupt("return", null);

              case 28:
                if (!this.hasValidContext()) {
                  _context4.next = 41;
                  break;
                }

                frameData = this.playerContext.getNextFrame();
                frameHeader = this.playerContext.getFrameHeader(); // NOTE(jon): Work around a bug where the mlx sensor doesn't report timeOn times, just hardcodes 60000

                if (!(frameHeader && frameHeader.imageData.width !== 32)) {
                  _context4.next = 37;
                  break;
                }

                sameFrameAsPrev = frameHeader && this.prevFrameHeader && frameHeader.timeOnMs === this.prevFrameHeader.timeOnMs;

                if (!sameFrameAsPrev) {
                  _context4.next = 36;
                  break;
                }

                this.prevFrameHeader = frameHeader;
                return _context4.abrupt("return", null);

              case 36:
                this.prevFrameHeader = frameHeader;

              case 37:
                if (!(frameData.length === 0)) {
                  _context4.next = 39;
                  break;
                }

                return _context4.abrupt("return", null);

              case 39:
                this.framesRead++;
                return _context4.abrupt("return", {
                  data: new Uint16Array(frameData),
                  meta: frameHeader
                });

              case 41:
                return _context4.abrupt("return", null);

              case 42:
              case "end":
                return _context4.stop();
            }
          }
        }, _callee4, this, [[13, 18]]);
      }));

      function fetchNextFrame() {
        return _fetchNextFrame.apply(this, arguments);
      }

      return fetchNextFrame;
    }()
  }, {
    key: "countTotalFrames",
    value: function () {
      var _countTotalFrames = (0,_Users_jon_Dev_Cacophony_cptv_player_vue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {
        var unlocker;
        return regeneratorRuntime.wrap(function _callee5$(_context5) {
          while (1) {
            switch (_context5.prev = _context5.next) {
              case 0:
                if (this.reader) {
                  _context5.next = 3;
                  break;
                }

                console.warn("You need to initialise the player with the url of a CPTV file");
                return _context5.abrupt("return", 0);

              case 3:
                if (!this.hasValidContext()) {
                  _context5.next = 19;
                  break;
                }

                unlocker = new Unlocker();
                _context5.next = 7;
                return this.lockIsUncontended(unlocker);

              case 7:
                this.locked = true;
                _context5.prev = 8;
                _context5.next = 11;
                return this.playerContext.countTotalFrames();

              case 11:
                _context5.next = 16;
                break;

              case 13:
                _context5.prev = 13;
                _context5.t0 = _context5["catch"](8);
                this.streamError = _context5.t0;

              case 16:
                // We can't call any other methods that read frame data on this stream,
                // since we've exhausted it and thrown away the data after scanning for the info we want.
                this.consumed = true;
                unlocker.unlock();
                this.locked = false;

              case 19:
                return _context5.abrupt("return", this.getTotalFrames());

              case 20:
              case "end":
                return _context5.stop();
            }
          }
        }, _callee5, this, [[8, 13]]);
      }));

      function countTotalFrames() {
        return _countTotalFrames.apply(this, arguments);
      }

      return countTotalFrames;
    }()
  }, {
    key: "getMetadata",
    value: function () {
      var _getMetadata = (0,_Users_jon_Dev_Cacophony_cptv_player_vue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {
        var header, totalFrameCount, duration;
        return regeneratorRuntime.wrap(function _callee6$(_context6) {
          while (1) {
            switch (_context6.prev = _context6.next) {
              case 0:
                _context6.next = 2;
                return this.getHeader();

              case 2:
                header = _context6.sent;
                totalFrameCount = 0;

                if (!this.hasStreamError()) {
                  _context6.next = 8;
                  break;
                }

                return _context6.abrupt("return", this.streamError);

              case 8:
                if (!header.totalFrames) {
                  _context6.next = 12;
                  break;
                }

                totalFrameCount = header.totalFrames;
                _context6.next = 15;
                break;

              case 12:
                _context6.next = 14;
                return this.countTotalFrames();

              case 14:
                totalFrameCount = _context6.sent;

              case 15:
                duration = 1 / header.fps * totalFrameCount;
                return _context6.abrupt("return", (0,_Users_jon_Dev_Cacophony_cptv_player_vue_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)((0,_Users_jon_Dev_Cacophony_cptv_player_vue_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)({}, header), {}, {
                  duration: duration,
                  totalFrames: totalFrameCount
                }));

              case 17:
              case "end":
                return _context6.stop();
            }
          }
        }, _callee6, this);
      }));

      function getMetadata() {
        return _getMetadata.apply(this, arguments);
      }

      return getMetadata;
    }()
  }, {
    key: "getStreamMetadata",
    value: function () {
      var _getStreamMetadata = (0,_Users_jon_Dev_Cacophony_cptv_player_vue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)( /*#__PURE__*/regeneratorRuntime.mark(function _callee7(url) {
        var size,
            _args7 = arguments;
        return regeneratorRuntime.wrap(function _callee7$(_context7) {
          while (1) {
            switch (_context7.prev = _context7.next) {
              case 0:
                size = _args7.length > 1 && _args7[1] !== undefined ? _args7[1] : 0;
                _context7.next = 3;
                return this.initWithCptvUrlAndSize(url, size);

              case 3:
                _context7.next = 5;
                return this.getMetadata();

              case 5:
                return _context7.abrupt("return", _context7.sent);

              case 6:
              case "end":
                return _context7.stop();
            }
          }
        }, _callee7, this);
      }));

      function getStreamMetadata(_x8) {
        return _getStreamMetadata.apply(this, arguments);
      }

      return getStreamMetadata;
    }()
  }, {
    key: "lockIsUncontended",
    value: function () {
      var _lockIsUncontended = (0,_Users_jon_Dev_Cacophony_cptv_player_vue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)( /*#__PURE__*/regeneratorRuntime.mark(function _callee8(unlocker) {
        var _this = this;

        return regeneratorRuntime.wrap(function _callee8$(_context8) {
          while (1) {
            switch (_context8.prev = _context8.next) {
              case 0:
                return _context8.abrupt("return", new Promise(function (resolve) {
                  if (_this.locked) {
                    unlocker.fn = resolve;
                  } else {
                    resolve(null);
                  }
                }));

              case 1:
              case "end":
                return _context8.stop();
            }
          }
        }, _callee8);
      }));

      function lockIsUncontended(_x9) {
        return _lockIsUncontended.apply(this, arguments);
      }

      return lockIsUncontended;
    }()
  }, {
    key: "getHeader",
    value: function () {
      var _getHeader = (0,_Users_jon_Dev_Cacophony_cptv_player_vue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)( /*#__PURE__*/regeneratorRuntime.mark(function _callee9() {
        var unlocker, header;
        return regeneratorRuntime.wrap(function _callee9$(_context9) {
          while (1) {
            switch (_context9.prev = _context9.next) {
              case 0:
                if (this.reader) {
                  _context9.next = 2;
                  break;
                }

                return _context9.abrupt("return", "You need to initialise the player with the url of a CPTV file");

              case 2:
                if (!this.hasValidContext()) {
                  _context9.next = 14;
                  break;
                }

                unlocker = new Unlocker();
                _context9.next = 6;
                return this.lockIsUncontended(unlocker);

              case 6:
                this.locked = true;
                _context9.next = 9;
                return this.playerContext.fetchHeader();

              case 9:
                header = this.playerContext.getHeader();

                if (header === "Unable to parse header") {
                  this.streamError = header;
                }

                unlocker.unlock();
                this.locked = false;
                return _context9.abrupt("return", header);

              case 14:
                return _context9.abrupt("return", this.streamError);

              case 15:
              case "end":
                return _context9.stop();
            }
          }
        }, _callee9, this);
      }));

      function getHeader() {
        return _getHeader.apply(this, arguments);
      }

      return getHeader;
    }()
  }, {
    key: "getTotalFrames",
    value: function getTotalFrames() {
      if (this.streamError) {
        return this.framesRead;
      }

      if (!this.locked && this.inited && this.hasValidContext()) {
        return this.playerContext.totalFrames();
      }

      return null;
    }
  }, {
    key: "getLoadProgress",
    value: function getLoadProgress() {
      if (this.locked || !this.hasValidContext()) {
        return null;
      } // This doesn't actually tell us how much has downloaded, just how much has been lazily read.


      return this.playerContext.bytesLoaded() / this.expectedSize;
    }
  }, {
    key: "hasStreamError",
    value: function hasStreamError() {
      return this.streamError !== null;
    }
  }]);

  return CptvDecoderInterface;
}();

var player = new CptvDecoderInterface();
self.addEventListener("message", /*#__PURE__*/function () {
  var _ref2 = (0,_Users_jon_Dev_Cacophony_cptv_player_vue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)( /*#__PURE__*/regeneratorRuntime.mark(function _callee10(_ref) {
    var data, result, _result, _result2, _result3, header, frame, totalFrames, progress, _header, hasError, error;

    return regeneratorRuntime.wrap(function _callee10$(_context10) {
      while (1) {
        switch (_context10.prev = _context10.next) {
          case 0:
            data = _ref.data;
            _context10.t0 = data.type;
            _context10.next = _context10.t0 === "initWithLocalCptvFile" ? 4 : _context10.t0 === "initWithUrl" ? 9 : _context10.t0 === "initWithUrlAndSize" ? 14 : _context10.t0 === "initWithRecordingIdAndSize" ? 19 : _context10.t0 === "getStreamMetadata" ? 24 : _context10.t0 === "getNextFrame" ? 29 : _context10.t0 === "getTotalFrames" ? 34 : _context10.t0 === "getLoadProgress" ? 37 : _context10.t0 === "getHeader" ? 40 : _context10.t0 === "hasStreamError" ? 45 : _context10.t0 === "getStreamError" ? 48 : _context10.t0 === "freeResources" ? 51 : 54;
            break;

          case 4:
            _context10.next = 6;
            return player.initWithFileBytes(data.arrayBuffer);

          case 6:
            result = _context10.sent;
            self.postMessage({
              type: data.type,
              data: result
            });
            return _context10.abrupt("break", 56);

          case 9:
            _context10.next = 11;
            return player.initWithCptvUrlAndSize(data.url);

          case 11:
            _result = _context10.sent;
            self.postMessage({
              type: data.type,
              data: _result
            });
            return _context10.abrupt("break", 56);

          case 14:
            _context10.next = 16;
            return player.initWithCptvUrlAndSize(data.url, data.size);

          case 16:
            _result2 = _context10.sent;
            self.postMessage({
              type: data.type,
              data: _result2
            });
            return _context10.abrupt("break", 56);

          case 19:
            _context10.next = 21;
            return player.initWithRecordingIdAndSize(data.id, data.apiToken, data.apiRoot, data.size);

          case 21:
            _result3 = _context10.sent;
            self.postMessage({
              type: data.type,
              data: _result3
            });
            return _context10.abrupt("break", 56);

          case 24:
            _context10.next = 26;
            return player.getStreamMetadata(data.url);

          case 26:
            header = _context10.sent;
            self.postMessage({
              type: data.type,
              data: header
            });
            return _context10.abrupt("break", 56);

          case 29:
            _context10.next = 31;
            return player.fetchNextFrame();

          case 31:
            frame = _context10.sent;
            self.postMessage({
              type: data.type,
              data: frame
            });
            return _context10.abrupt("break", 56);

          case 34:
            totalFrames = player.getTotalFrames();
            self.postMessage({
              type: data.type,
              data: totalFrames
            });
            return _context10.abrupt("break", 56);

          case 37:
            progress = player.getLoadProgress();
            self.postMessage({
              type: data.type,
              data: progress
            });
            return _context10.abrupt("break", 56);

          case 40:
            _context10.next = 42;
            return player.getHeader();

          case 42:
            _header = _context10.sent;
            self.postMessage({
              type: data.type,
              data: _header
            });
            return _context10.abrupt("break", 56);

          case 45:
            hasError = player.hasStreamError();
            self.postMessage({
              type: data.type,
              data: hasError
            });
            return _context10.abrupt("break", 56);

          case 48:
            error = player.streamError;
            self.postMessage({
              type: data.type,
              data: error
            });
            return _context10.abrupt("break", 56);

          case 51:
            player.free();
            self.postMessage({
              type: data.type,
              data: true
            });
            return _context10.abrupt("break", 56);

          case 54:
            self.postMessage(data);
            return _context10.abrupt("return");

          case 56:
          case "end":
            return _context10.stop();
        }
      }
    }, _callee10);
  }));

  return function (_x10) {
    return _ref2.apply(this, arguments);
  };
}());
self.postMessage({
  type: "init"
});


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			loaded: false,
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = __webpack_module_cache__;
/******/ 	
/******/ 	// the startup function
/******/ 	__webpack_require__.x = () => {
/******/ 		// Load entry module and return exports
/******/ 		var __webpack_exports__ = __webpack_require__.O(undefined, [211,163], () => (__webpack_require__(4257)))
/******/ 		__webpack_exports__ = __webpack_require__.O(__webpack_exports__);
/******/ 		return __webpack_exports__;
/******/ 	};
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/chunk loaded */
/******/ 	(() => {
/******/ 		var deferred = [];
/******/ 		__webpack_require__.O = (result, chunkIds, fn, priority) => {
/******/ 			if(chunkIds) {
/******/ 				priority = priority || 0;
/******/ 				for(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];
/******/ 				deferred[i] = [chunkIds, fn, priority];
/******/ 				return;
/******/ 			}
/******/ 			var notFulfilled = Infinity;
/******/ 			for (var i = 0; i < deferred.length; i++) {
/******/ 				var [chunkIds, fn, priority] = deferred[i];
/******/ 				var fulfilled = true;
/******/ 				for (var j = 0; j < chunkIds.length; j++) {
/******/ 					if ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {
/******/ 						chunkIds.splice(j--, 1);
/******/ 					} else {
/******/ 						fulfilled = false;
/******/ 						if(priority < notFulfilled) notFulfilled = priority;
/******/ 					}
/******/ 				}
/******/ 				if(fulfilled) {
/******/ 					deferred.splice(i--, 1)
/******/ 					var r = fn();
/******/ 					if (r !== undefined) result = r;
/******/ 				}
/******/ 			}
/******/ 			return result;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/ensure chunk */
/******/ 	(() => {
/******/ 		__webpack_require__.f = {};
/******/ 		// This file contains only the entry chunk.
/******/ 		// The chunk loading function for additional chunks
/******/ 		__webpack_require__.e = (chunkId) => {
/******/ 			return Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {
/******/ 				__webpack_require__.f[key](chunkId, promises);
/******/ 				return promises;
/******/ 			}, []));
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/get javascript chunk filename */
/******/ 	(() => {
/******/ 		// This function allow to reference async chunks and sibling chunks for the entrypoint
/******/ 		__webpack_require__.u = (chunkId) => {
/******/ 			// return url for filenames based on template
/******/ 			return "CptvPlayerVue.common." + chunkId + ".js";
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/get mini-css chunk filename */
/******/ 	(() => {
/******/ 		// This function allow to reference all chunks
/******/ 		__webpack_require__.miniCssF = (chunkId) => {
/******/ 			// return url for filenames based on template
/******/ 			return undefined;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/harmony module decorator */
/******/ 	(() => {
/******/ 		__webpack_require__.hmd = (module) => {
/******/ 			module = Object.create(module);
/******/ 			if (!module.children) module.children = [];
/******/ 			Object.defineProperty(module, 'exports', {
/******/ 				enumerable: true,
/******/ 				set: () => {
/******/ 					throw new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);
/******/ 				}
/******/ 			});
/******/ 			return module;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		__webpack_require__.p = "";
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/importScripts chunk loading */
/******/ 	(() => {
/******/ 		// no baseURI
/******/ 		
/******/ 		// object to store loaded chunks
/******/ 		// "1" means "already loaded"
/******/ 		var installedChunks = {
/******/ 			257: 1
/******/ 		};
/******/ 		
/******/ 		// importScripts chunk loading
/******/ 		var installChunk = (data) => {
/******/ 			var [chunkIds, moreModules, runtime] = data;
/******/ 			for(var moduleId in moreModules) {
/******/ 				if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 					__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 				}
/******/ 			}
/******/ 			if(runtime) runtime(__webpack_require__);
/******/ 			while(chunkIds.length)
/******/ 				installedChunks[chunkIds.pop()] = 1;
/******/ 			parentChunkLoadingFunction(data);
/******/ 		};
/******/ 		__webpack_require__.f.i = (chunkId, promises) => {
/******/ 			// "1" is the signal for "already loaded"
/******/ 			if(!installedChunks[chunkId]) {
/******/ 				if(true) { // all chunks have JS
/******/ 					importScripts(__webpack_require__.p + __webpack_require__.u(chunkId));
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 		
/******/ 		var chunkLoadingGlobal = (typeof self !== 'undefined' ? self : this)["webpackChunkcptv_player_vue"] = (typeof self !== 'undefined' ? self : this)["webpackChunkcptv_player_vue"] || [];
/******/ 		var parentChunkLoadingFunction = chunkLoadingGlobal.push.bind(chunkLoadingGlobal);
/******/ 		chunkLoadingGlobal.push = installChunk;
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/wasm chunk loading */
/******/ 	(() => {
/******/ 		// object to store loaded and loading wasm modules
/******/ 		var installedWasmModules = {};
/******/ 		
/******/ 		function promiseResolve() { return Promise.resolve(); }
/******/ 		
/******/ 		var wasmImportedFuncCache0;
/******/ 		var wasmImportedFuncCache1;
/******/ 		var wasmImportedFuncCache2;
/******/ 		var wasmImportedFuncCache3;
/******/ 		var wasmImportedFuncCache4;
/******/ 		var wasmImportedFuncCache5;
/******/ 		var wasmImportedFuncCache6;
/******/ 		var wasmImportedFuncCache7;
/******/ 		var wasmImportedFuncCache8;
/******/ 		var wasmImportedFuncCache9;
/******/ 		var wasmImportedFuncCache10;
/******/ 		var wasmImportedFuncCache11;
/******/ 		var wasmImportedFuncCache12;
/******/ 		var wasmImportedFuncCache13;
/******/ 		var wasmImportedFuncCache14;
/******/ 		var wasmImportedFuncCache15;
/******/ 		var wasmImportedFuncCache16;
/******/ 		var wasmImportedFuncCache17;
/******/ 		var wasmImportedFuncCache18;
/******/ 		var wasmImportedFuncCache19;
/******/ 		var wasmImportedFuncCache20;
/******/ 		var wasmImportedFuncCache21;
/******/ 		var wasmImportedFuncCache22;
/******/ 		var wasmImportedFuncCache23;
/******/ 		var wasmImportedFuncCache24;
/******/ 		var wasmImportedFuncCache25;
/******/ 		var wasmImportedFuncCache26;
/******/ 		var wasmImportedFuncCache27;
/******/ 		var wasmImportedFuncCache28;
/******/ 		var wasmImportedFuncCache29;
/******/ 		var wasmImportedFuncCache30;
/******/ 		var wasmImportedFuncCache31;
/******/ 		var wasmImportedFuncCache32;
/******/ 		var wasmImportedFuncCache33;
/******/ 		var wasmImportedFuncCache34;
/******/ 		var wasmImportedFuncCache35;
/******/ 		var wasmImportedFuncCache36;
/******/ 		var wasmImportedFuncCache37;
/******/ 		var wasmImportedFuncCache38;
/******/ 		var wasmImportObjects = {
/******/ 			4260: function() {
/******/ 				return {
/******/ 					"./decoder_bg.js": {
/******/ 						"__wbindgen_object_drop_ref": function(p0i32) {
/******/ 							if(wasmImportedFuncCache0 === undefined) wasmImportedFuncCache0 = __webpack_require__.c[5422].exports;
/******/ 							return wasmImportedFuncCache0["ug"](p0i32);
/******/ 						},
/******/ 						"__wbindgen_string_new": function(p0i32,p1i32) {
/******/ 							if(wasmImportedFuncCache1 === undefined) wasmImportedFuncCache1 = __webpack_require__.c[5422].exports;
/******/ 							return wasmImportedFuncCache1["h4"](p0i32,p1i32);
/******/ 						},
/******/ 						"__wbg_cptvplayercontext_new": function(p0i32) {
/******/ 							if(wasmImportedFuncCache2 === undefined) wasmImportedFuncCache2 = __webpack_require__.c[5422].exports;
/******/ 							return wasmImportedFuncCache2["WA"](p0i32);
/******/ 						},
/******/ 						"__wbindgen_boolean_get": function(p0i32) {
/******/ 							if(wasmImportedFuncCache3 === undefined) wasmImportedFuncCache3 = __webpack_require__.c[5422].exports;
/******/ 							return wasmImportedFuncCache3["HT"](p0i32);
/******/ 						},
/******/ 						"__wbindgen_is_undefined": function(p0i32) {
/******/ 							if(wasmImportedFuncCache4 === undefined) wasmImportedFuncCache4 = __webpack_require__.c[5422].exports;
/******/ 							return wasmImportedFuncCache4["XP"](p0i32);
/******/ 						},
/******/ 						"__wbindgen_number_new": function(p0f64) {
/******/ 							if(wasmImportedFuncCache5 === undefined) wasmImportedFuncCache5 = __webpack_require__.c[5422].exports;
/******/ 							return wasmImportedFuncCache5["pT"](p0f64);
/******/ 						},
/******/ 						"__wbindgen_cb_drop": function(p0i32) {
/******/ 							if(wasmImportedFuncCache6 === undefined) wasmImportedFuncCache6 = __webpack_require__.c[5422].exports;
/******/ 							return wasmImportedFuncCache6["G6"](p0i32);
/******/ 						},
/******/ 						"__wbindgen_object_clone_ref": function(p0i32) {
/******/ 							if(wasmImportedFuncCache7 === undefined) wasmImportedFuncCache7 = __webpack_require__.c[5422].exports;
/******/ 							return wasmImportedFuncCache7["m_"](p0i32);
/******/ 						},
/******/ 						"__wbindgen_error_new": function(p0i32,p1i32) {
/******/ 							if(wasmImportedFuncCache8 === undefined) wasmImportedFuncCache8 = __webpack_require__.c[5422].exports;
/******/ 							return wasmImportedFuncCache8["hd"](p0i32,p1i32);
/******/ 						},
/******/ 						"__wbindgen_bigint_from_u64": function(p0i64) {
/******/ 							if(wasmImportedFuncCache9 === undefined) wasmImportedFuncCache9 = __webpack_require__.c[5422].exports;
/******/ 							return wasmImportedFuncCache9["Kx"](p0i64);
/******/ 						},
/******/ 						"__wbg_set_bd72c078edfa51ad": function(p0i32,p1i32,p2i32) {
/******/ 							if(wasmImportedFuncCache10 === undefined) wasmImportedFuncCache10 = __webpack_require__.c[5422].exports;
/******/ 							return wasmImportedFuncCache10["aV"](p0i32,p1i32,p2i32);
/******/ 						},
/******/ 						"__wbg_new_abda76e883ba8a5f": function() {
/******/ 							if(wasmImportedFuncCache11 === undefined) wasmImportedFuncCache11 = __webpack_require__.c[5422].exports;
/******/ 							return wasmImportedFuncCache11["a2"]();
/******/ 						},
/******/ 						"__wbg_stack_658279fe44541cf6": function(p0i32,p1i32) {
/******/ 							if(wasmImportedFuncCache12 === undefined) wasmImportedFuncCache12 = __webpack_require__.c[5422].exports;
/******/ 							return wasmImportedFuncCache12["KM"](p0i32,p1i32);
/******/ 						},
/******/ 						"__wbg_error_f851667af71bcfc6": function(p0i32,p1i32) {
/******/ 							if(wasmImportedFuncCache13 === undefined) wasmImportedFuncCache13 = __webpack_require__.c[5422].exports;
/******/ 							return wasmImportedFuncCache13["iX"](p0i32,p1i32);
/******/ 						},
/******/ 						"__wbg_debug_9a6b3243fbbebb61": function(p0i32) {
/******/ 							if(wasmImportedFuncCache14 === undefined) wasmImportedFuncCache14 = __webpack_require__.c[5422].exports;
/******/ 							return wasmImportedFuncCache14["p1"](p0i32);
/******/ 						},
/******/ 						"__wbg_error_788ae33f81d3b84b": function(p0i32) {
/******/ 							if(wasmImportedFuncCache15 === undefined) wasmImportedFuncCache15 = __webpack_require__.c[5422].exports;
/******/ 							return wasmImportedFuncCache15["kQ"](p0i32);
/******/ 						},
/******/ 						"__wbg_info_2e30e8204b29d91d": function(p0i32) {
/******/ 							if(wasmImportedFuncCache16 === undefined) wasmImportedFuncCache16 = __webpack_require__.c[5422].exports;
/******/ 							return wasmImportedFuncCache16["eZ"](p0i32);
/******/ 						},
/******/ 						"__wbg_log_1d3ae0273d8f4f8a": function(p0i32) {
/******/ 							if(wasmImportedFuncCache17 === undefined) wasmImportedFuncCache17 = __webpack_require__.c[5422].exports;
/******/ 							return wasmImportedFuncCache17["gE"](p0i32);
/******/ 						},
/******/ 						"__wbg_warn_d60e832f9882c1b2": function(p0i32) {
/******/ 							if(wasmImportedFuncCache18 === undefined) wasmImportedFuncCache18 = __webpack_require__.c[5422].exports;
/******/ 							return wasmImportedFuncCache18["iY"](p0i32);
/******/ 						},
/******/ 						"__wbg_read_b40399852b2f7b2b": function(p0i32) {
/******/ 							if(wasmImportedFuncCache19 === undefined) wasmImportedFuncCache19 = __webpack_require__.c[5422].exports;
/******/ 							return wasmImportedFuncCache19["uB"](p0i32);
/******/ 						},
/******/ 						"__wbg_get_97b561fb56f034b5": function(p0i32,p1i32) {
/******/ 							if(wasmImportedFuncCache20 === undefined) wasmImportedFuncCache20 = __webpack_require__.c[5422].exports;
/******/ 							return wasmImportedFuncCache20["To"](p0i32,p1i32);
/******/ 						},
/******/ 						"__wbg_new_b51585de1b234aff": function() {
/******/ 							if(wasmImportedFuncCache21 === undefined) wasmImportedFuncCache21 = __webpack_require__.c[5422].exports;
/******/ 							return wasmImportedFuncCache21["Tc"]();
/******/ 						},
/******/ 						"__wbg_call_01734de55d61e11d": function(p0i32,p1i32,p2i32) {
/******/ 							if(wasmImportedFuncCache22 === undefined) wasmImportedFuncCache22 = __webpack_require__.c[5422].exports;
/******/ 							return wasmImportedFuncCache22["Nl"](p0i32,p1i32,p2i32);
/******/ 						},
/******/ 						"__wbg_new_43f1b47c28813cbd": function(p0i32,p1i32) {
/******/ 							if(wasmImportedFuncCache23 === undefined) wasmImportedFuncCache23 = __webpack_require__.c[5422].exports;
/******/ 							return wasmImportedFuncCache23["XH"](p0i32,p1i32);
/******/ 						},
/******/ 						"__wbg_resolve_53698b95aaf7fcf8": function(p0i32) {
/******/ 							if(wasmImportedFuncCache24 === undefined) wasmImportedFuncCache24 = __webpack_require__.c[5422].exports;
/******/ 							return wasmImportedFuncCache24["ot"](p0i32);
/******/ 						},
/******/ 						"__wbg_then_f7e06ee3c11698eb": function(p0i32,p1i32) {
/******/ 							if(wasmImportedFuncCache25 === undefined) wasmImportedFuncCache25 = __webpack_require__.c[5422].exports;
/******/ 							return wasmImportedFuncCache25["vv"](p0i32,p1i32);
/******/ 						},
/******/ 						"__wbg_then_b2267541e2a73865": function(p0i32,p1i32,p2i32) {
/******/ 							if(wasmImportedFuncCache26 === undefined) wasmImportedFuncCache26 = __webpack_require__.c[5422].exports;
/******/ 							return wasmImportedFuncCache26["w2"](p0i32,p1i32,p2i32);
/******/ 						},
/******/ 						"__wbg_buffer_085ec1f694018c4f": function(p0i32) {
/******/ 							if(wasmImportedFuncCache27 === undefined) wasmImportedFuncCache27 = __webpack_require__.c[5422].exports;
/******/ 							return wasmImportedFuncCache27["Zf"](p0i32);
/******/ 						},
/******/ 						"__wbg_new_8125e318e6245eed": function(p0i32) {
/******/ 							if(wasmImportedFuncCache28 === undefined) wasmImportedFuncCache28 = __webpack_require__.c[5422].exports;
/******/ 							return wasmImportedFuncCache28["rU"](p0i32);
/******/ 						},
/******/ 						"__wbg_set_5cf90238115182c3": function(p0i32,p1i32,p2i32) {
/******/ 							if(wasmImportedFuncCache29 === undefined) wasmImportedFuncCache29 = __webpack_require__.c[5422].exports;
/******/ 							return wasmImportedFuncCache29["H6"](p0i32,p1i32,p2i32);
/******/ 						},
/******/ 						"__wbg_length_72e2208bbc0efc61": function(p0i32) {
/******/ 							if(wasmImportedFuncCache30 === undefined) wasmImportedFuncCache30 = __webpack_require__.c[5422].exports;
/******/ 							return wasmImportedFuncCache30["Ky"](p0i32);
/******/ 						},
/******/ 						"__wbg_newwithbyteoffsetandlength_31ff1024ef0c63c7": function(p0i32,p1i32,p2i32) {
/******/ 							if(wasmImportedFuncCache31 === undefined) wasmImportedFuncCache31 = __webpack_require__.c[5422].exports;
/******/ 							return wasmImportedFuncCache31["uf"](p0i32,p1i32,p2i32);
/******/ 						},
/******/ 						"__wbg_instanceof_Uint8Array_d8d9cb2b8e8ac1d4": function(p0i32) {
/******/ 							if(wasmImportedFuncCache32 === undefined) wasmImportedFuncCache32 = __webpack_require__.c[5422].exports;
/******/ 							return wasmImportedFuncCache32["ZT"](p0i32);
/******/ 						},
/******/ 						"__wbg_byteLength_47d11fa79875dee3": function(p0i32) {
/******/ 							if(wasmImportedFuncCache33 === undefined) wasmImportedFuncCache33 = __webpack_require__.c[5422].exports;
/******/ 							return wasmImportedFuncCache33["Hu"](p0i32);
/******/ 						},
/******/ 						"__wbg_newwithlength_1efd26b345def7b3": function(p0i32) {
/******/ 							if(wasmImportedFuncCache34 === undefined) wasmImportedFuncCache34 = __webpack_require__.c[5422].exports;
/******/ 							return wasmImportedFuncCache34["Bv"](p0i32);
/******/ 						},
/******/ 						"__wbindgen_debug_string": function(p0i32,p1i32) {
/******/ 							if(wasmImportedFuncCache35 === undefined) wasmImportedFuncCache35 = __webpack_require__.c[5422].exports;
/******/ 							return wasmImportedFuncCache35["fY"](p0i32,p1i32);
/******/ 						},
/******/ 						"__wbindgen_throw": function(p0i32,p1i32) {
/******/ 							if(wasmImportedFuncCache36 === undefined) wasmImportedFuncCache36 = __webpack_require__.c[5422].exports;
/******/ 							return wasmImportedFuncCache36["Or"](p0i32,p1i32);
/******/ 						},
/******/ 						"__wbindgen_memory": function() {
/******/ 							if(wasmImportedFuncCache37 === undefined) wasmImportedFuncCache37 = __webpack_require__.c[5422].exports;
/******/ 							return wasmImportedFuncCache37["oH"]();
/******/ 						},
/******/ 						"__wbindgen_closure_wrapper182": function(p0i32,p1i32,p2i32) {
/******/ 							if(wasmImportedFuncCache38 === undefined) wasmImportedFuncCache38 = __webpack_require__.c[5422].exports;
/******/ 							return wasmImportedFuncCache38["_1"](p0i32,p1i32,p2i32);
/******/ 						}
/******/ 					}
/******/ 				};
/******/ 			},
/******/ 		};
/******/ 		
/******/ 		var wasmModuleMap = {
/******/ 			"355": [
/******/ 				4260
/******/ 			]
/******/ 		};
/******/ 		
/******/ 		// object with all WebAssembly.instance exports
/******/ 		__webpack_require__.w = {};
/******/ 		
/******/ 		// Fetch + compile chunk loading for webassembly
/******/ 		__webpack_require__.f.wasm = function(chunkId, promises) {
/******/ 		
/******/ 			var wasmModules = wasmModuleMap[chunkId] || [];
/******/ 		
/******/ 			wasmModules.forEach(function(wasmModuleId, idx) {
/******/ 				var installedWasmModuleData = installedWasmModules[wasmModuleId];
/******/ 		
/******/ 				// a Promise means "currently loading" or "already loaded".
/******/ 				if(installedWasmModuleData)
/******/ 					promises.push(installedWasmModuleData);
/******/ 				else {
/******/ 					var importObject = wasmImportObjects[wasmModuleId]();
/******/ 					var req = fetch(__webpack_require__.p + "" + {"355":{"4260":"7af124c31225118f314e"}}[chunkId][wasmModuleId] + ".module.wasm");
/******/ 					var promise;
/******/ 					if(importObject && typeof importObject.then === 'function' && typeof WebAssembly.compileStreaming === 'function') {
/******/ 						promise = Promise.all([WebAssembly.compileStreaming(req), importObject]).then(function(items) {
/******/ 							return WebAssembly.instantiate(items[0], items[1]);
/******/ 						});
/******/ 					} else if(typeof WebAssembly.instantiateStreaming === 'function') {
/******/ 						promise = WebAssembly.instantiateStreaming(req, importObject);
/******/ 					} else {
/******/ 						var bytesPromise = req.then(function(x) { return x.arrayBuffer(); });
/******/ 						promise = bytesPromise.then(function(bytes) {
/******/ 							return WebAssembly.instantiate(bytes, importObject);
/******/ 						});
/******/ 					}
/******/ 					promises.push(installedWasmModules[wasmModuleId] = promise.then(function(res) {
/******/ 						return __webpack_require__.w[wasmModuleId] = (res.instance || res).exports;
/******/ 					}));
/******/ 				}
/******/ 			});
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/startup chunk dependencies */
/******/ 	(() => {
/******/ 		var next = __webpack_require__.x;
/******/ 		__webpack_require__.x = () => {
/******/ 			return Promise.all([
/******/ 				__webpack_require__.e(211),
/******/ 				__webpack_require__.e(163)
/******/ 			]).then(next);
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// module cache are used so entry inlining is disabled
/******/ 	// run startup
/******/ 	var __webpack_exports__ = __webpack_require__.x();
/******/ 	module.exports = __webpack_exports__["default"];
/******/ 	
/******/ })()
;
//# sourceMappingURL=CptvPlayerVue.common.257.js.map